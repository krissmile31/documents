<!DOCTYPE html>
<html>
  <%- include('../partials/js'); -%>
  <%- include('../partials/head'); -%>
  <body class="container-fluid">
    <div class="jumbotron">
    	<%- include('../partials/header'); %>
    	<h4>Selected Dishes</h3>
    	<form action="/order/add" method="POST">
    	<!-- <form> -->
	    	<table class="table table-bordered table-light">
	    		<thead>
	    			<tr>
	    				<th scope="col">No.</th>
	    				<th scope="col">Name</th>
	    				<th scope="col">Price</th>
	    				<th scope="col">Amount</th>
	    				<th scope="col">Total Price</th>
		    			<th scope="col"></th>
	    			</tr>
	    		</thead>
	    		<tbody>
	    			<% var i = 0 %>
	    			<% for (var product of productList) { -%>
		    			<tr>
		    				<th scope="row" style="width: 4rem"><%= i %></th>
		    				<th><%= product.name %></th>
		    				<th class="product-price" style="width: 8rem"><%= product.price %>đ</th>
		    				<th style="width: 8rem">
		    					<input type="number" min="1" class="form-control product-amount" id="product-amount-<%= product.id %>" name="product-amount-<%= product.id %>" value="<%= productAmountList[i]%>">
		    				</th>
		    				<th class="product-total-price" style="width: 8rem"><%= product.price %>đ</th>
			    			<th style="width: 8rem">
			    				<button class="btn btn-danger cancel" id="cancel-<%= product.id %>">Cancel</button>
			    			</th>
		    			</tr>
	    			<% ++i } -%>
	    		</tbody>
	    	</table>
	    	<h4 id="total-price">Total Price: </h4>
	    	<input type="hidden" name="totalPrice" id="totalPriceInput">
	    	<% if (productList.length > 0) { -%>
	    		<button type="submit" class="btn btn-primary btn-lg" id="submitButton">Order</button>
	    	<% } else { -%>
	    		Please order. <a href="/">Return...</a>
	    	<% } -%>
	    </form>
    </div>
  <script defer src="/javascripts/totalPrice.js"></script>
  <script defer src="/javascripts/chooseProductButton.js"></script>
  </body>
</html>
